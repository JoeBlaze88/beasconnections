const PUZZLES = [
  {
    title: "Puzzle 1",
    groups: [
      { name: "Start with body parts", answers: ["Lunge","Headmaster","Handy","Shine"] },
      { name: "_____ Table", answers: ["Coffee","End","Poker","Pinball"] },
      { name: "Things you can peel", answers: ["Paint","Orange","Skin","Rubber"] },
      { name: "Associated with October", answers: ["Pumpkin Spice","Candy","Columbus","Mask"] }
    ],
    mistakesAllowed: 4
  },
  {
    title: "Puzzle 2",
    groups: [
      { name: "Things you put on your face", answers: ["Makeup","Goggles","Halloween mask","Sunscreen"] },
      { name: "Ends with an animal", answers: ["Copycat","Bookworm","Packrat","Scapegoat"] },
      { name: "First word in soda's", answers: ["Mountain","Dr.","Root","Ginger"] },
      { name: "Words that start with basketball terms", answers: ["Netflix","Hoopla","Courtroom","Dunkin Donuts"] }
    ],
    mistakesAllowed: 4
  },
  {
    title: "Puzzle 3",
    groups: [
      { name: "Contain first names", answers: ["Drivers ed","Jack-o-lantern","Mason jar","Graham cracker"] },
      { name: "Things in our backyard", answers: ["Connect 4","Pirate ship","Bird house","Fire pit"] },
      { name: "Palindromes", answers: ["Noon","Level","Kayak","Rotator"] },
      { name: "To get rid of", answers: ["Shed","Eliminate","Scrap","Dump"] }
    ],
    mistakesAllowed: 4
  },
  {
    title: "Puzzle 4",
    groups: [
      { name: "Words containing numbers", answers: ["Network","Canine","Freight","Content"] },
      { name: "_____ Fall", answers: ["Free","Water","Pit","Night"] },
      { name: "Things with prizes inside", answers: ["Cracker jacks","Kinder Egg","Cereal","Happy meal"] },
      { name: "Things that are salty", answers: ["Tears","Popcorn","Ocean","Saline Solution"] }
    ],
    mistakesAllowed: 4
  },
  {
    title: "Puzzle 5",
    groups: [
      { name: "Charlotte Hornets Players", answers: ["Ball","Bridges","Knueppel","Curry"] },
      { name: "Things you would order in a Thai restaurant", answers: ["Spring Roll","Iced Tea","Drunken Noodles","Satay"] },
      { name: "Popular singers from the 90's last names", answers: ["Twain","Carey","Dion","Houston"] },
      { name: "Stephen King Novels", answers: ["Misery","Carrie","Dreamcatcher","Insomnia"] }
    ],
    mistakesAllowed: 4
  }
];

function endGame(win) {
  submitBtn.disabled = true;
  deselectBtn.disabled = true;
  shuffleBtn.disabled = true;

  if (win) {
    toast('You solved it! âœ¨', true);
  } else {
    toast('Out of mistakes. Puzzle over.');
    remainingGroups.forEach(g => lockInGroup(g));
  }

  if (currentIndex < PUZZLES.length - 1) {
    const nextBtn = document.createElement('button');
    nextBtn.textContent = 'Next Puzzle â–¶';
    nextBtn.onclick = () => loadPuzzle(currentIndex + 1);
    document.querySelector('.controls').appendChild(nextBtn);
  } else {
    const doneMsg = document.createElement('div');
    doneMsg.style.fontSize = '1.5rem';
    doneMsg.style.fontWeight = 'bold';
    doneMsg.style.marginTop = '20px';
    doneMsg.style.color = 'var(--good)';
    doneMsg.textContent = "ðŸŽ‰ You're done. Congratulations. HAPPY BIRTHDAY! ðŸŽ‰";
    document.querySelector('.wrap').appendChild(doneMsg);
  }
}
